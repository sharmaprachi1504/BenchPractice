pipeline {
    agent any
    tools {
           
            terraform 'Terraform'
            }
       stages {
        stage('Creating Infra on AWS') {
            steps {
    withCredentials([[
    $class: 'AmazonWebServicesCredentialsBinding',
    credentialsId: "aws-terraform",
    accessKeyVariable: 'AWS_ACCESS_KEY_ID',
    secretKeyVariable: 'AWS_SECRET_ACCESS_KEY'
]]) {
    // AWS Code
}
                bat '''
                cd Bench_Training
                terraform init 
                terraform plan
                terraform validate
                terraform apply --auto-approve
               
              
                '''
            }
        }    
    }
}
